# üéâ –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô –ò–°–ü–†–ê–í–õ–ï–ù–ê!

## ‚úÖ –°—Ç–∞—Ç—É—Å (03.08.2025 18:30)

### –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞:
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –≤–∏–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∫–æ–º–Ω–∞—Ç–∞—Ö!**

## üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - —Å–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞–≤–∞–ª —Å–ª—É—á–∞–π–Ω—ã–π UUID –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –∏–≥–Ω–æ—Ä–∏—Ä—É—è —Ä–µ–∞–ª—å–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ —Ç–æ–º—É, —á—Ç–æ –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–µ–ª —Ç–æ–ª—å–∫–æ —Å–µ–±—è
- WebRTC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏—Å—å –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ signaling-server/src/main.rs:

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ connection_id –∏ user_id**:
   ```rust
   let connection_id = Uuid::new_v4().to_string();
   let mut –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_id: Option<String> = None;
   ```

2. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**:
   ```rust
   // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–¥ –µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º ID
   let user_id = –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.id.clone();
   *–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_id = Some(user_id.clone());
   
   // –ü–µ—Ä–µ–Ω–æ—Å–∏–º WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤—ã–π ID
   if let Some(sender) = —Å–æ—Å—Ç–æ—è–Ω–∏–µ.websockets.remove(connection_id) {
       —Å–æ—Å—Ç–æ—è–Ω–∏–µ.websockets.insert(user_id.clone(), sender);
   }
   ```

3. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤**:
   - –ü—Ä–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –∫ –∫–æ–º–Ω–∞—Ç–µ —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - WebRTC —Å–∏–≥–Ω–∞–ª—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É—é—Ç—Å—è –ø–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º ID
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –∏ –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ —Ä–µ—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–µ–ª —Ç–æ–ª—å–∫–æ —Å–µ–±—è
- ‚ùå –ù–µ—Ç –≥–æ–ª–æ—Å–æ–≤–æ–π —Å–≤—è–∑–∏ –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏  
- ‚ùå WebRTC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏—Å—å

### –ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≤–∏–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ –∫–æ–º–Ω–∞—Ç–µ
- ‚úÖ WebRTC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚úÖ –ì–æ–ª–æ—Å–æ–≤–∞—è —Å–≤—è–∑—å —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ü–∏—è –≥–æ–≤–æ—Ä—è—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
1. **WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ**: –í—Ä–µ–º–µ–Ω–Ω—ã–π connection_id –¥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π user_id
3. **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π**: –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–¥—É—Ç –ø–æ user_id
4. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–æ–º–Ω–∞—Ç

### –ü—Ä–æ—Ç–æ–∫–æ–ª —Å–æ–æ–±—â–µ–Ω–∏–π:
- `–ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º ID
- `—É—á–∞—Å—Ç–Ω–∏–∫–∏-–∫–æ–º–Ω–∞—Ç—ã-–æ–±–Ω–æ–≤–ª–µ–Ω—ã` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- `webrtc-signal` - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è WebRTC –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `–º–∏–∫—Ä–æ—Ñ–æ–Ω-–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞—É–¥–∏–æ
- `–≥–æ–≤–æ—Ä–∏—Ç` - –∏–Ω–¥–∏–∫–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–µ—á–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://hesovoice.online –≤ 2+ –±—Ä–∞—É–∑–µ—Ä–∞—Ö/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
2. –í–æ–π–¥–∏—Ç–µ —Ä–∞–∑–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –≤ –æ–¥–Ω—É –∫–æ–º–Ω–∞—Ç—É
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–∏–¥–∏—Ç–µ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
4. –í–∫–ª—é—á–∏—Ç–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–æ–ª–æ—Å–æ–≤—É—é —Å–≤—è–∑—å
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω–¥–∏–∫–∞—Ü–∏—é –≥–æ–≤–æ—Ä—è—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –°–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç:
- ‚úÖ WebSocket —Å–µ—Ä–≤–µ—Ä: PID 99612 –Ω–∞ –ø–æ—Ä—Ç—É 8080
- ‚úÖ Frontend: https://hesovoice.online  
- ‚úÖ Nginx proxy: WSS –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –∞–∫—Ç–∏–≤–Ω—ã

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ**: 1 (signaling-server/src/main.rs)
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞**: ~50 –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: ~30 –º–∏–Ω—É—Ç
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: HIGH (–æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)

---

**–ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–Ω–∞—Ç—ã —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéâüîä**